"use strict";(self.webpackChunkcopilot_testing=self.webpackChunkcopilot_testing||[]).push([[86],{86:(e,t,i)=>{i.r(t),i.d(t,{MinesweeperView:()=>n});var r=function(){function e(e,t,i){void 0===e&&(e=8),void 0===t&&(t=8),void 0===i&&(i=10),this.rows=e,this.cols=t,this.mines=i,this.gameOver=!1,this.board=this.generateBoard()}return e.prototype.generateBoard=function(){for(var e=this,t=Array.from({length:this.rows},function(){return Array.from({length:e.cols},function(){return{isMine:!1,isRevealed:!1,isFlagged:!1,adjacentMines:0}})}),i=0;i<this.mines;){var r=Math.floor(Math.random()*this.rows),n=Math.floor(Math.random()*this.cols);t[r][n].isMine||(t[r][n].isMine=!0,i++)}for(r=0;r<this.rows;r++)for(n=0;n<this.cols;n++)t[r][n].isMine||(t[r][n].adjacentMines=this.countAdjacentMines(t,r,n));return t},e.prototype.countAdjacentMines=function(e,t,i){for(var r=0,n=-1;n<=1;n++)for(var o=-1;o<=1;o++)if(0!==n||0!==o){var s=t+n,a=i+o;s>=0&&s<this.rows&&a>=0&&a<this.cols&&e[s][a].isMine&&r++}return r},e.prototype.reveal=function(e,t){if(!(this.gameOver||this.board[e][t].isRevealed||this.board[e][t].isFlagged))if(this.board[e][t].isRevealed=!0,this.board[e][t].isMine)this.gameOver=!0;else if(0===this.board[e][t].adjacentMines)for(var i=-1;i<=1;i++)for(var r=-1;r<=1;r++)if(0!==i||0!==r){var n=e+i,o=t+r;n>=0&&n<this.rows&&o>=0&&o<this.cols&&(this.board[n][o].isRevealed||this.reveal(n,o))}},e.prototype.toggleFlag=function(e,t){this.gameOver||this.board[e][t].isRevealed||(this.board[e][t].isFlagged=!this.board[e][t].isFlagged)},e.prototype.isWin=function(){var e;if(!this.board)return!1;for(var t=0;t<this.rows;t++)for(var i=0;i<this.cols;i++){var r=null===(e=this.board[t])||void 0===e?void 0:e[i];if(!r)return!1;if(!r.isMine&&!r.isRevealed)return!1}return!0},e}(),n=function(){function e(e,t,i,n){void 0===t&&(t=8),void 0===i&&(i=8),void 0===n&&(n=10),this.game=new r(t,i,n);var o=document.getElementById(e);if(!o)throw new Error("Container not found");this.container=o,this.render()}return e.prototype.render=function(){var e=this;this.container.innerHTML="";var t=document.createElement("table");t.style.borderCollapse="collapse";for(var i=function(i){for(var n=document.createElement("tr"),o=function(t){var o=r.game.board[i][t],s=document.createElement("td");s.style.width="32px",s.style.height="32px",s.style.textAlign="center",s.style.border="1px solid #888",s.style.background=o.isRevealed?"#e0e0e0":"#b0b0b0",s.style.cursor=o.isRevealed?"default":"pointer",o.isRevealed?o.isMine?(s.textContent="ðŸ’£",s.style.background="#ffb3b3"):o.adjacentMines>0&&(s.textContent=String(o.adjacentMines),s.style.color="#333"):o.isFlagged&&(s.textContent="ðŸš©"),s.oncontextmenu=function(r){r.preventDefault(),e.game.toggleFlag(i,t),e.render()},s.onclick=function(){e.game.reveal(i,t),e.render(),e.game.gameOver?setTimeout(function(){alert("Game Over!"),location.reload()},100):e.game.isWin()&&setTimeout(function(){alert("You Win!"),location.reload()},100)},n.appendChild(s)},s=0;s<r.game.cols;s++)o(s);t.appendChild(n)},r=this,n=0;n<this.game.rows;n++)i(n);this.container.appendChild(t)},e}()}}]);
//# sourceMappingURL=86.main.js.map